<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ“Œ ì¶”ì–µì˜ ë½‘ê¸°íŒ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Gowun Dodum', sans-serif;
    }

    .flip {
      transform: rotateY(180deg);
      transition: transform 0.4s ease-in-out;
    }
  </style>
</head>

<body
  class="min-h-screen bg-gradient-to-br from-[#FFE3E3] via-[#FFF2CC] to-[#DFF6FF] flex flex-col items-center py-12 px-4">
  <h1 class="text-4xl font-extrabold mb-8 text-gray-800 flex items-center gap-2">
    <span>ğŸ“Œ</span>ì¶”ì–µì˜ ë½‘ê¸°íŒ<span>ğŸ“Œ</span>
  </h1>

  <div class="flex flex-col sm:flex-row gap-3 mb-6 w-full max-w-2xl justify-center">
    <input type="number" id="rows" placeholder="ê°€ë¡œ ì¤„ ìˆ˜"
      class="w-full sm:w-auto border rounded-md px-4 py-2 text-center shadow-sm focus:ring-2 focus:ring-indigo-400" />
    <input type="number" id="cols" placeholder="ì„¸ë¡œ ì¤„ ìˆ˜"
      class="w-full sm:w-auto border rounded-md px-4 py-2 text-center shadow-sm focus:ring-2 focus:ring-indigo-400" />
    <input type="number" id="winners" placeholder="ë‹¹ì²¨ ê°œìˆ˜"
      class="w-full sm:w-auto border rounded-md px-4 py-2 text-center shadow-sm focus:ring-2 focus:ring-indigo-400" />
    <button onclick="generateBoard()"
      class="bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-md shadow-md transition">
      ì‹œì‘í•˜ê¸°
    </button>
  </div>

  <div id="board" class="grid gap-3 w-full max-w-4xl"></div>

  <script>
    let boardData = [];
    function generateBoard() {
      const rows = parseInt(document.getElementById("rows").value);
      const cols = parseInt(document.getElementById("cols").value);
      const winners = parseInt(document.getElementById("winners").value);
      const total = rows * cols;

      // Reset data
      boardData = Array(total).fill("ê½");
      const indices = [...Array(total).keys()];
      for (let i = 0; i < winners; i++) {
        const rand = Math.floor(Math.random() * indices.length);
        const selected = indices.splice(rand, 1)[0];
        boardData[selected] = "ë‹¹ì²¨";
      }

      const board = document.getElementById("board");
      board.innerHTML = "";
      board.style.gridTemplateColumns = `repeat(${cols}, minmax(60px, 1fr))`;

      for (let i = 0; i < total; i++) {
        const tile = document.createElement("button");
        tile.className =
          "w-16 h-16 sm:w-20 sm:h-20 text-lg sm:text-xl font-bold rounded-xl bg-white text-gray-700 shadow hover:bg-yellow-100 transition duration-300";
        tile.innerText = i + 1;
        tile.onclick = function () {
          if (tile.dataset.clicked) return;
          tile.dataset.clicked = true;
          tile.classList.add("flip");

          setTimeout(() => {
            const result = boardData[i];
            if (result === "ë‹¹ì²¨") {
              tile.className =
                "w-16 h-16 sm:w-20 sm:h-20 text-xl font-bold rounded-xl bg-pink-500 text-white shadow scale-110 rotate-6";
              tile.innerText = "ğŸ‰";
            } else {
              tile.className =
                "w-16 h-16 sm:w-20 sm:h-20 text-xl font-bold rounded-xl bg-gray-300 text-white shadow scale-95";
              tile.innerText = "âŒ";
            }
          }, 200);
        };
        board.appendChild(tile);
      }
    }
  </script>
</body>

</html>
